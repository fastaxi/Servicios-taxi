{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../config/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":40,"index":256}}],"key":"V94urzZZSfzzXHrNxWFShT8IuQo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _configApi = require(_dependencyMap[3], \"../config/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        console.log('[AuthContext] Attempting login to:', `${_configApi.API_URL}/auth/login`);\n        const response = await axios.default.post(`${_configApi.API_URL}/auth/login`, {\n          username,\n          password\n        });\n        console.log('[AuthContext] Login successful');\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('[AuthContext] Login error:', error);\n        console.error('[AuthContext] Error response:', error.response?.data);\n        console.error('[AuthContext] Error message:', error.message);\n        throw new Error(error.response?.data?.detail || error.message || 'Error al iniciar sesiÃ³n');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":110,"map":[[15,2,26,0,"exports"],[15,9,26,0],[15,10,26,0,"AuthProvider"],[15,22,26,0],[15,25,26,0,"AuthProvider"],[15,37,26,0],[16,2,93,0,"exports"],[16,9,93,0],[16,10,93,0,"useAuth"],[16,17,93,0],[16,20,93,0,"useAuth"],[16,27,93,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_axios"],[20,12,3,0],[20,15,3,0,"require"],[20,22,3,0],[20,23,3,0,"_dependencyMap"],[20,37,3,0],[21,2,3,0],[21,6,3,0,"axios"],[21,11,3,0],[21,14,3,0,"_interopDefault"],[21,29,3,0],[21,30,3,0,"_axios"],[21,36,3,0],[22,2,5,0],[22,6,5,0,"_configApi"],[22,16,5,0],[22,19,5,0,"require"],[22,26,5,0],[22,27,5,0,"_dependencyMap"],[22,41,5,0],[23,2,5,40],[23,6,5,40,"_reactJsxDevRuntime"],[23,25,5,40],[23,28,5,40,"require"],[23,35,5,40],[23,36,5,40,"_dependencyMap"],[23,50,5,40],[24,2,24,0],[24,8,24,6,"AuthContext"],[24,19,24,17],[24,35,24,20],[24,39,24,20,"createContext"],[24,45,24,33],[24,46,24,33,"createContext"],[24,59,24,33],[24,61,24,63,"undefined"],[24,70,24,72],[24,71,24,73],[25,2,26,7],[25,11,26,16,"AuthProvider"],[25,23,26,28,"AuthProvider"],[25,24,26,29],[26,4,26,31,"children"],[27,2,26,71],[27,3,26,72],[27,5,26,74],[28,4,26,74,"_s"],[28,6,26,74],[29,4,27,2],[29,10,27,8],[29,11,27,9,"user"],[29,15,27,13],[29,17,27,15,"setUser"],[29,24,27,22],[29,25,27,23],[29,28,27,26],[29,32,27,26,"useState"],[29,38,27,34],[29,39,27,34,"useState"],[29,47,27,34],[29,49,27,48],[29,53,27,52],[29,54,27,53],[30,4,28,2],[30,10,28,8],[30,11,28,9,"token"],[30,16,28,14],[30,18,28,16,"setToken"],[30,26,28,24],[30,27,28,25],[30,30,28,28],[30,34,28,28,"useState"],[30,40,28,36],[30,41,28,36,"useState"],[30,49,28,36],[30,51,28,52],[30,55,28,56],[30,56,28,57],[31,4,29,2],[31,10,29,8],[31,11,29,9,"loading"],[31,18,29,16],[31,20,29,18,"setLoading"],[31,30,29,28],[31,31,29,29],[31,34,29,32],[31,38,29,32,"useState"],[31,44,29,40],[31,45,29,40,"useState"],[31,53,29,40],[31,55,29,41],[31,59,29,45],[31,60,29,46],[32,4,31,2],[32,8,31,2,"useEffect"],[32,14,31,11],[32,15,31,11,"useEffect"],[32,24,31,11],[32,26,31,12],[32,32,31,18],[33,6,32,4,"loadStoredAuth"],[33,20,32,18],[33,21,32,19],[33,22,32,20],[34,4,33,2],[34,5,33,3],[34,7,33,5],[34,9,33,7],[34,10,33,8],[35,4,35,2],[35,10,35,8,"loadStoredAuth"],[35,24,35,22],[35,27,35,25],[35,33,35,25,"loadStoredAuth"],[35,34,35,25],[35,39,35,37],[36,6,36,4],[36,10,36,8],[37,8,37,6],[37,14,37,12,"storedToken"],[37,25,37,23],[37,28,37,26],[37,34,37,32,"AsyncStorage"],[37,46,37,44],[37,47,37,44,"default"],[37,54,37,44],[37,55,37,45,"getItem"],[37,62,37,52],[37,63,37,53],[37,70,37,60],[37,71,37,61],[38,8,38,6],[38,14,38,12,"storedUser"],[38,24,38,22],[38,27,38,25],[38,33,38,31,"AsyncStorage"],[38,45,38,43],[38,46,38,43,"default"],[38,53,38,43],[38,54,38,44,"getItem"],[38,61,38,51],[38,62,38,52],[38,68,38,58],[38,69,38,59],[39,8,40,6],[39,12,40,10,"storedToken"],[39,23,40,21],[39,27,40,25,"storedUser"],[39,37,40,35],[39,39,40,37],[40,10,41,8,"setToken"],[40,18,41,16],[40,19,41,17,"storedToken"],[40,30,41,28],[40,31,41,29],[41,10,42,8,"setUser"],[41,17,42,15],[41,18,42,16,"JSON"],[41,22,42,20],[41,23,42,21,"parse"],[41,28,42,26],[41,29,42,27,"storedUser"],[41,39,42,37],[41,40,42,38],[41,41,42,39],[42,8,43,6],[43,6,44,4],[43,7,44,5],[43,8,44,6],[43,15,44,13,"error"],[43,20,44,18],[43,22,44,20],[44,8,45,6,"console"],[44,15,45,13],[44,16,45,14,"error"],[44,21,45,19],[44,22,45,20],[44,43,45,41],[44,45,45,43,"error"],[44,50,45,48],[44,51,45,49],[45,6,46,4],[45,7,46,5],[45,16,46,14],[46,8,47,6,"setLoading"],[46,18,47,16],[46,19,47,17],[46,24,47,22],[46,25,47,23],[47,6,48,4],[48,4,49,2],[48,5,49,3],[49,4,51,2],[49,10,51,8,"login"],[49,15,51,13],[49,18,51,16],[49,24,51,16,"login"],[49,25,51,23,"username"],[49,33,51,39],[49,35,51,41,"password"],[49,43,51,57],[49,48,51,62],[50,6,52,4],[50,10,52,8],[51,8,53,6,"console"],[51,15,53,13],[51,16,53,14,"log"],[51,19,53,17],[51,20,53,18],[51,56,53,54],[51,58,53,56],[51,61,53,59,"API_URL"],[51,71,53,66],[51,72,53,66,"API_URL"],[51,79,53,66],[51,92,53,79],[51,93,53,80],[52,8,54,6],[52,14,54,12,"response"],[52,22,54,20],[52,25,54,23],[52,31,54,29,"axios"],[52,36,54,34],[52,37,54,34,"default"],[52,44,54,34],[52,45,54,35,"post"],[52,49,54,39],[52,50,54,40],[52,53,54,43,"API_URL"],[52,63,54,50],[52,64,54,50,"API_URL"],[52,71,54,50],[52,84,54,63],[52,86,54,65],[53,10,55,8,"username"],[53,18,55,16],[54,10,56,8,"password"],[55,8,57,6],[55,9,57,7],[55,10,57,8],[56,8,59,6,"console"],[56,15,59,13],[56,16,59,14,"log"],[56,19,59,17],[56,20,59,18],[56,52,59,50],[56,53,59,51],[57,8,60,6],[57,14,60,12],[58,10,60,14,"access_token"],[58,22,60,26],[59,10,60,28,"user"],[59,14,60,32],[59,16,60,34,"userData"],[60,8,60,43],[60,9,60,44],[60,12,60,47,"response"],[60,20,60,55],[60,21,60,56,"data"],[60,25,60,60],[61,8,62,6],[61,14,62,12,"AsyncStorage"],[61,26,62,24],[61,27,62,24,"default"],[61,34,62,24],[61,35,62,25,"setItem"],[61,42,62,32],[61,43,62,33],[61,50,62,40],[61,52,62,42,"access_token"],[61,64,62,54],[61,65,62,55],[62,8,63,6],[62,14,63,12,"AsyncStorage"],[62,26,63,24],[62,27,63,24,"default"],[62,34,63,24],[62,35,63,25,"setItem"],[62,42,63,32],[62,43,63,33],[62,49,63,39],[62,51,63,41,"JSON"],[62,55,63,45],[62,56,63,46,"stringify"],[62,65,63,55],[62,66,63,56,"userData"],[62,74,63,64],[62,75,63,65],[62,76,63,66],[63,8,65,6,"setToken"],[63,16,65,14],[63,17,65,15,"access_token"],[63,29,65,27],[63,30,65,28],[64,8,66,6,"setUser"],[64,15,66,13],[64,16,66,14,"userData"],[64,24,66,22],[64,25,66,23],[65,6,67,4],[65,7,67,5],[65,8,67,6],[65,15,67,13,"error"],[65,20,67,23],[65,22,67,25],[66,8,68,6,"console"],[66,15,68,13],[66,16,68,14,"error"],[66,21,68,19],[66,22,68,20],[66,50,68,48],[66,52,68,50,"error"],[66,57,68,55],[66,58,68,56],[67,8,69,6,"console"],[67,15,69,13],[67,16,69,14,"error"],[67,21,69,19],[67,22,69,20],[67,53,69,51],[67,55,69,53,"error"],[67,60,69,58],[67,61,69,59,"response"],[67,69,69,67],[67,71,69,69,"data"],[67,75,69,73],[67,76,69,74],[68,8,70,6,"console"],[68,15,70,13],[68,16,70,14,"error"],[68,21,70,19],[68,22,70,20],[68,52,70,50],[68,54,70,52,"error"],[68,59,70,57],[68,60,70,58,"message"],[68,67,70,65],[68,68,70,66],[69,8,71,6],[69,14,71,12],[69,18,71,16,"Error"],[69,23,71,21],[69,24,71,22,"error"],[69,29,71,27],[69,30,71,28,"response"],[69,38,71,36],[69,40,71,38,"data"],[69,44,71,42],[69,46,71,44,"detail"],[69,52,71,50],[69,56,71,54,"error"],[69,61,71,59],[69,62,71,60,"message"],[69,69,71,67],[69,73,71,71],[69,98,71,96],[69,99,71,97],[70,6,72,4],[71,4,73,2],[71,5,73,3],[72,4,75,2],[72,10,75,8,"logout"],[72,16,75,14],[72,19,75,17],[72,25,75,17,"logout"],[72,26,75,17],[72,31,75,29],[73,6,76,4],[73,10,76,8],[74,8,77,6],[74,14,77,12,"AsyncStorage"],[74,26,77,24],[74,27,77,24,"default"],[74,34,77,24],[74,35,77,25,"removeItem"],[74,45,77,35],[74,46,77,36],[74,53,77,43],[74,54,77,44],[75,8,78,6],[75,14,78,12,"AsyncStorage"],[75,26,78,24],[75,27,78,24,"default"],[75,34,78,24],[75,35,78,25,"removeItem"],[75,45,78,35],[75,46,78,36],[75,52,78,42],[75,53,78,43],[76,8,79,6,"setToken"],[76,16,79,14],[76,17,79,15],[76,21,79,19],[76,22,79,20],[77,8,80,6,"setUser"],[77,15,80,13],[77,16,80,14],[77,20,80,18],[77,21,80,19],[78,6,81,4],[78,7,81,5],[78,8,81,6],[78,15,81,13,"error"],[78,20,81,18],[78,22,81,20],[79,8,82,6,"console"],[79,15,82,13],[79,16,82,14,"error"],[79,21,82,19],[79,22,82,20],[79,37,82,35],[79,39,82,37,"error"],[79,44,82,42],[79,45,82,43],[80,6,83,4],[81,4,84,2],[81,5,84,3],[82,4,86,2],[82,24,87,4],[82,28,87,4,"_reactJsxDevRuntime"],[82,47,87,4],[82,48,87,4,"jsxDEV"],[82,54,87,4],[82,56,87,5,"AuthContext"],[82,67,87,16],[82,68,87,17,"Provider"],[82,76,87,25],[83,6,87,26,"value"],[83,11,87,31],[83,13,87,33],[84,8,87,35,"user"],[84,12,87,39],[85,8,87,41,"token"],[85,13,87,46],[86,8,87,48,"login"],[86,13,87,53],[87,8,87,55,"logout"],[87,14,87,61],[88,8,87,63,"loading"],[89,6,87,71],[89,7,87,73],[90,6,87,73,"children"],[90,14,87,73],[90,16,88,7,"children"],[91,4,88,15],[92,6,88,15,"fileName"],[92,14,88,15],[92,16,88,15,"_jsxFileName"],[92,28,88,15],[93,6,88,15,"lineNumber"],[93,16,88,15],[94,6,88,15,"columnNumber"],[94,18,88,15],[95,4,88,15],[95,11,89,26],[95,12,89,27],[96,2,91,0],[97,2,91,1,"_s"],[97,4,91,1],[97,5,26,16,"AuthProvider"],[97,17,26,28],[98,2,26,28,"_c"],[98,4,26,28],[98,7,26,16,"AuthProvider"],[98,19,26,28],[99,2,93,7],[99,11,93,16,"useAuth"],[99,18,93,23,"useAuth"],[99,19,93,23],[99,21,93,26],[100,4,93,26,"_s2"],[100,7,93,26],[101,4,94,2],[101,10,94,8,"context"],[101,17,94,15],[101,20,94,18],[101,24,94,18,"useContext"],[101,30,94,28],[101,31,94,28,"useContext"],[101,41,94,28],[101,43,94,29,"AuthContext"],[101,54,94,40],[101,55,94,41],[102,4,95,2],[102,8,95,6,"context"],[102,15,95,13],[102,20,95,18,"undefined"],[102,29,95,27],[102,31,95,29],[103,6,96,4],[103,12,96,10],[103,16,96,14,"Error"],[103,21,96,19],[103,22,96,20],[103,67,96,65],[103,68,96,66],[104,4,97,2],[105,4,98,2],[105,11,98,9,"context"],[105,18,98,16],[106,2,99,0],[107,2,99,1,"_s2"],[107,5,99,1],[107,6,93,16,"useAuth"],[107,13,93,23],[108,2,93,23],[108,6,93,23,"_c"],[108,8,93,23],[109,2,93,23,"$RefreshReg$"],[109,14,93,23],[109,15,93,23,"_c"],[109,17,93,23],[110,0,93,23],[110,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHsB;iBIE;GJS;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}