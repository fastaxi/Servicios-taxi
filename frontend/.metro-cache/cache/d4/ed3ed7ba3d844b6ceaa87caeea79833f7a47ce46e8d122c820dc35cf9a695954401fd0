{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../config/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":40,"index":256}}],"key":"V94urzZZSfzzXHrNxWFShT8IuQo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _configApi = require(_dependencyMap[3], \"../config/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        console.log('[AuthContext] Attempting login to:', `${_configApi.API_URL}/auth/login`);\n        const response = await axios.default.post(`${_configApi.API_URL}/auth/login`, {\n          username,\n          password\n        });\n        console.log('[AuthContext] Login successful');\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('[AuthContext] Login error:', error);\n        console.error('[AuthContext] Error response:', error.response?.data);\n        console.error('[AuthContext] Error message:', error.message);\n        throw new Error(error.response?.data?.detail || error.message || 'Error al iniciar sesiÃ³n');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":110,"map":[[15,2,24,0,"exports"],[15,9,24,0],[15,10,24,0,"AuthProvider"],[15,22,24,0],[15,25,24,0,"AuthProvider"],[15,37,24,0],[16,2,91,0,"exports"],[16,9,91,0],[16,10,91,0,"useAuth"],[16,17,91,0],[16,20,91,0,"useAuth"],[16,27,91,0],[17,2,1,0],[17,6,1,0,"_react"],[17,12,1,0],[17,15,1,0,"require"],[17,22,1,0],[17,23,1,0,"_dependencyMap"],[17,37,1,0],[18,2,2,0],[18,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[18,42,2,0],[18,45,2,0,"require"],[18,52,2,0],[18,53,2,0,"_dependencyMap"],[18,67,2,0],[19,2,2,0],[19,6,2,0,"AsyncStorage"],[19,18,2,0],[19,21,2,0,"_interopDefault"],[19,36,2,0],[19,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,73,2,0],[20,2,3,0],[20,6,3,0,"_axios"],[20,12,3,0],[20,15,3,0,"require"],[20,22,3,0],[20,23,3,0,"_dependencyMap"],[20,37,3,0],[21,2,3,0],[21,6,3,0,"axios"],[21,11,3,0],[21,14,3,0,"_interopDefault"],[21,29,3,0],[21,30,3,0,"_axios"],[21,36,3,0],[22,2,5,0],[22,6,5,0,"_configApi"],[22,16,5,0],[22,19,5,0,"require"],[22,26,5,0],[22,27,5,0,"_dependencyMap"],[22,41,5,0],[23,2,5,40],[23,6,5,40,"_reactJsxDevRuntime"],[23,25,5,40],[23,28,5,40,"require"],[23,35,5,40],[23,36,5,40,"_dependencyMap"],[23,50,5,40],[24,2,22,0],[24,8,22,6,"AuthContext"],[24,19,22,17],[24,35,22,20],[24,39,22,20,"createContext"],[24,45,22,33],[24,46,22,33,"createContext"],[24,59,22,33],[24,61,22,63,"undefined"],[24,70,22,72],[24,71,22,73],[25,2,24,7],[25,11,24,16,"AuthProvider"],[25,23,24,28,"AuthProvider"],[25,24,24,29],[26,4,24,31,"children"],[27,2,24,71],[27,3,24,72],[27,5,24,74],[28,4,24,74,"_s"],[28,6,24,74],[29,4,25,2],[29,10,25,8],[29,11,25,9,"user"],[29,15,25,13],[29,17,25,15,"setUser"],[29,24,25,22],[29,25,25,23],[29,28,25,26],[29,32,25,26,"useState"],[29,38,25,34],[29,39,25,34,"useState"],[29,47,25,34],[29,49,25,48],[29,53,25,52],[29,54,25,53],[30,4,26,2],[30,10,26,8],[30,11,26,9,"token"],[30,16,26,14],[30,18,26,16,"setToken"],[30,26,26,24],[30,27,26,25],[30,30,26,28],[30,34,26,28,"useState"],[30,40,26,36],[30,41,26,36,"useState"],[30,49,26,36],[30,51,26,52],[30,55,26,56],[30,56,26,57],[31,4,27,2],[31,10,27,8],[31,11,27,9,"loading"],[31,18,27,16],[31,20,27,18,"setLoading"],[31,30,27,28],[31,31,27,29],[31,34,27,32],[31,38,27,32,"useState"],[31,44,27,40],[31,45,27,40,"useState"],[31,53,27,40],[31,55,27,41],[31,59,27,45],[31,60,27,46],[32,4,29,2],[32,8,29,2,"useEffect"],[32,14,29,11],[32,15,29,11,"useEffect"],[32,24,29,11],[32,26,29,12],[32,32,29,18],[33,6,30,4,"loadStoredAuth"],[33,20,30,18],[33,21,30,19],[33,22,30,20],[34,4,31,2],[34,5,31,3],[34,7,31,5],[34,9,31,7],[34,10,31,8],[35,4,33,2],[35,10,33,8,"loadStoredAuth"],[35,24,33,22],[35,27,33,25],[35,33,33,25,"loadStoredAuth"],[35,34,33,25],[35,39,33,37],[36,6,34,4],[36,10,34,8],[37,8,35,6],[37,14,35,12,"storedToken"],[37,25,35,23],[37,28,35,26],[37,34,35,32,"AsyncStorage"],[37,46,35,44],[37,47,35,44,"default"],[37,54,35,44],[37,55,35,45,"getItem"],[37,62,35,52],[37,63,35,53],[37,70,35,60],[37,71,35,61],[38,8,36,6],[38,14,36,12,"storedUser"],[38,24,36,22],[38,27,36,25],[38,33,36,31,"AsyncStorage"],[38,45,36,43],[38,46,36,43,"default"],[38,53,36,43],[38,54,36,44,"getItem"],[38,61,36,51],[38,62,36,52],[38,68,36,58],[38,69,36,59],[39,8,38,6],[39,12,38,10,"storedToken"],[39,23,38,21],[39,27,38,25,"storedUser"],[39,37,38,35],[39,39,38,37],[40,10,39,8,"setToken"],[40,18,39,16],[40,19,39,17,"storedToken"],[40,30,39,28],[40,31,39,29],[41,10,40,8,"setUser"],[41,17,40,15],[41,18,40,16,"JSON"],[41,22,40,20],[41,23,40,21,"parse"],[41,28,40,26],[41,29,40,27,"storedUser"],[41,39,40,37],[41,40,40,38],[41,41,40,39],[42,8,41,6],[43,6,42,4],[43,7,42,5],[43,8,42,6],[43,15,42,13,"error"],[43,20,42,18],[43,22,42,20],[44,8,43,6,"console"],[44,15,43,13],[44,16,43,14,"error"],[44,21,43,19],[44,22,43,20],[44,43,43,41],[44,45,43,43,"error"],[44,50,43,48],[44,51,43,49],[45,6,44,4],[45,7,44,5],[45,16,44,14],[46,8,45,6,"setLoading"],[46,18,45,16],[46,19,45,17],[46,24,45,22],[46,25,45,23],[47,6,46,4],[48,4,47,2],[48,5,47,3],[49,4,49,2],[49,10,49,8,"login"],[49,15,49,13],[49,18,49,16],[49,24,49,16,"login"],[49,25,49,23,"username"],[49,33,49,39],[49,35,49,41,"password"],[49,43,49,57],[49,48,49,62],[50,6,50,4],[50,10,50,8],[51,8,51,6,"console"],[51,15,51,13],[51,16,51,14,"log"],[51,19,51,17],[51,20,51,18],[51,56,51,54],[51,58,51,56],[51,61,51,59,"API_URL"],[51,71,51,66],[51,72,51,66,"API_URL"],[51,79,51,66],[51,92,51,79],[51,93,51,80],[52,8,52,6],[52,14,52,12,"response"],[52,22,52,20],[52,25,52,23],[52,31,52,29,"axios"],[52,36,52,34],[52,37,52,34,"default"],[52,44,52,34],[52,45,52,35,"post"],[52,49,52,39],[52,50,52,40],[52,53,52,43,"API_URL"],[52,63,52,50],[52,64,52,50,"API_URL"],[52,71,52,50],[52,84,52,63],[52,86,52,65],[53,10,53,8,"username"],[53,18,53,16],[54,10,54,8,"password"],[55,8,55,6],[55,9,55,7],[55,10,55,8],[56,8,57,6,"console"],[56,15,57,13],[56,16,57,14,"log"],[56,19,57,17],[56,20,57,18],[56,52,57,50],[56,53,57,51],[57,8,58,6],[57,14,58,12],[58,10,58,14,"access_token"],[58,22,58,26],[59,10,58,28,"user"],[59,14,58,32],[59,16,58,34,"userData"],[60,8,58,43],[60,9,58,44],[60,12,58,47,"response"],[60,20,58,55],[60,21,58,56,"data"],[60,25,58,60],[61,8,60,6],[61,14,60,12,"AsyncStorage"],[61,26,60,24],[61,27,60,24,"default"],[61,34,60,24],[61,35,60,25,"setItem"],[61,42,60,32],[61,43,60,33],[61,50,60,40],[61,52,60,42,"access_token"],[61,64,60,54],[61,65,60,55],[62,8,61,6],[62,14,61,12,"AsyncStorage"],[62,26,61,24],[62,27,61,24,"default"],[62,34,61,24],[62,35,61,25,"setItem"],[62,42,61,32],[62,43,61,33],[62,49,61,39],[62,51,61,41,"JSON"],[62,55,61,45],[62,56,61,46,"stringify"],[62,65,61,55],[62,66,61,56,"userData"],[62,74,61,64],[62,75,61,65],[62,76,61,66],[63,8,63,6,"setToken"],[63,16,63,14],[63,17,63,15,"access_token"],[63,29,63,27],[63,30,63,28],[64,8,64,6,"setUser"],[64,15,64,13],[64,16,64,14,"userData"],[64,24,64,22],[64,25,64,23],[65,6,65,4],[65,7,65,5],[65,8,65,6],[65,15,65,13,"error"],[65,20,65,23],[65,22,65,25],[66,8,66,6,"console"],[66,15,66,13],[66,16,66,14,"error"],[66,21,66,19],[66,22,66,20],[66,50,66,48],[66,52,66,50,"error"],[66,57,66,55],[66,58,66,56],[67,8,67,6,"console"],[67,15,67,13],[67,16,67,14,"error"],[67,21,67,19],[67,22,67,20],[67,53,67,51],[67,55,67,53,"error"],[67,60,67,58],[67,61,67,59,"response"],[67,69,67,67],[67,71,67,69,"data"],[67,75,67,73],[67,76,67,74],[68,8,68,6,"console"],[68,15,68,13],[68,16,68,14,"error"],[68,21,68,19],[68,22,68,20],[68,52,68,50],[68,54,68,52,"error"],[68,59,68,57],[68,60,68,58,"message"],[68,67,68,65],[68,68,68,66],[69,8,69,6],[69,14,69,12],[69,18,69,16,"Error"],[69,23,69,21],[69,24,69,22,"error"],[69,29,69,27],[69,30,69,28,"response"],[69,38,69,36],[69,40,69,38,"data"],[69,44,69,42],[69,46,69,44,"detail"],[69,52,69,50],[69,56,69,54,"error"],[69,61,69,59],[69,62,69,60,"message"],[69,69,69,67],[69,73,69,71],[69,98,69,96],[69,99,69,97],[70,6,70,4],[71,4,71,2],[71,5,71,3],[72,4,73,2],[72,10,73,8,"logout"],[72,16,73,14],[72,19,73,17],[72,25,73,17,"logout"],[72,26,73,17],[72,31,73,29],[73,6,74,4],[73,10,74,8],[74,8,75,6],[74,14,75,12,"AsyncStorage"],[74,26,75,24],[74,27,75,24,"default"],[74,34,75,24],[74,35,75,25,"removeItem"],[74,45,75,35],[74,46,75,36],[74,53,75,43],[74,54,75,44],[75,8,76,6],[75,14,76,12,"AsyncStorage"],[75,26,76,24],[75,27,76,24,"default"],[75,34,76,24],[75,35,76,25,"removeItem"],[75,45,76,35],[75,46,76,36],[75,52,76,42],[75,53,76,43],[76,8,77,6,"setToken"],[76,16,77,14],[76,17,77,15],[76,21,77,19],[76,22,77,20],[77,8,78,6,"setUser"],[77,15,78,13],[77,16,78,14],[77,20,78,18],[77,21,78,19],[78,6,79,4],[78,7,79,5],[78,8,79,6],[78,15,79,13,"error"],[78,20,79,18],[78,22,79,20],[79,8,80,6,"console"],[79,15,80,13],[79,16,80,14,"error"],[79,21,80,19],[79,22,80,20],[79,37,80,35],[79,39,80,37,"error"],[79,44,80,42],[79,45,80,43],[80,6,81,4],[81,4,82,2],[81,5,82,3],[82,4,84,2],[82,24,85,4],[82,28,85,4,"_reactJsxDevRuntime"],[82,47,85,4],[82,48,85,4,"jsxDEV"],[82,54,85,4],[82,56,85,5,"AuthContext"],[82,67,85,16],[82,68,85,17,"Provider"],[82,76,85,25],[83,6,85,26,"value"],[83,11,85,31],[83,13,85,33],[84,8,85,35,"user"],[84,12,85,39],[85,8,85,41,"token"],[85,13,85,46],[86,8,85,48,"login"],[86,13,85,53],[87,8,85,55,"logout"],[87,14,85,61],[88,8,85,63,"loading"],[89,6,85,71],[89,7,85,73],[90,6,85,73,"children"],[90,14,85,73],[90,16,86,7,"children"],[91,4,86,15],[92,6,86,15,"fileName"],[92,14,86,15],[92,16,86,15,"_jsxFileName"],[92,28,86,15],[93,6,86,15,"lineNumber"],[93,16,86,15],[94,6,86,15,"columnNumber"],[94,18,86,15],[95,4,86,15],[95,11,87,26],[95,12,87,27],[96,2,89,0],[97,2,89,1,"_s"],[97,4,89,1],[97,5,24,16,"AuthProvider"],[97,17,24,28],[98,2,24,28,"_c"],[98,4,24,28],[98,7,24,16,"AuthProvider"],[98,19,24,28],[99,2,91,7],[99,11,91,16,"useAuth"],[99,18,91,23,"useAuth"],[99,19,91,23],[99,21,91,26],[100,4,91,26,"_s2"],[100,7,91,26],[101,4,92,2],[101,10,92,8,"context"],[101,17,92,15],[101,20,92,18],[101,24,92,18,"useContext"],[101,30,92,28],[101,31,92,28,"useContext"],[101,41,92,28],[101,43,92,29,"AuthContext"],[101,54,92,40],[101,55,92,41],[102,4,93,2],[102,8,93,6,"context"],[102,15,93,13],[102,20,93,18,"undefined"],[102,29,93,27],[102,31,93,29],[103,6,94,4],[103,12,94,10],[103,16,94,14,"Error"],[103,21,94,19],[103,22,94,20],[103,67,94,65],[103,68,94,66],[104,4,95,2],[105,4,96,2],[105,11,96,9,"context"],[105,18,96,16],[106,2,97,0],[107,2,97,1,"_s2"],[107,5,97,1],[107,6,91,16,"useAuth"],[107,13,91,23],[108,2,91,23],[108,6,91,23,"_c"],[108,8,91,23],[109,2,91,23,"$RefreshReg$"],[109,14,91,23],[109,15,91,23,"_c"],[109,17,91,23],[110,0,91,23],[110,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCuB;YCK;GDE;yBEE;GFc;gBGE;GHsB;iBIE;GJS;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}