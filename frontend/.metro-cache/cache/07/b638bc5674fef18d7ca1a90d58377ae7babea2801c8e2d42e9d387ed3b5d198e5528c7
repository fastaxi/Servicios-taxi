{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../config/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":40,"index":256}}],"key":"V94urzZZSfzzXHrNxWFShT8IuQo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _configApi = require(_dependencyMap[3], \"../config/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        console.log('[AuthContext] Attempting login to:', `${_configApi.API_URL}/auth/login`);\n        const response = await axios.default.post(`${_configApi.API_URL}/auth/login`, {\n          username,\n          password\n        });\n        console.log('[AuthContext] Login successful');\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('[AuthContext] Login error:', error);\n        console.error('[AuthContext] Error response:', error.response?.data);\n        console.error('[AuthContext] Error message:', error.message);\n        throw new Error(error.response?.data?.detail || error.message || 'Error al iniciar sesiÃ³n');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":101,"map":[[13,2,26,0,"exports"],[13,9,26,0],[13,10,26,0,"AuthProvider"],[13,22,26,0],[13,25,26,0,"AuthProvider"],[13,37,26,0],[14,2,93,0,"exports"],[14,9,93,0],[14,10,93,0,"useAuth"],[14,17,93,0],[14,20,93,0,"useAuth"],[14,27,93,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_axios"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,0],[19,6,3,0,"axios"],[19,11,3,0],[19,14,3,0,"_interopDefault"],[19,29,3,0],[19,30,3,0,"_axios"],[19,36,3,0],[20,2,5,0],[20,6,5,0,"_configApi"],[20,16,5,0],[20,19,5,0,"require"],[20,26,5,0],[20,27,5,0,"_dependencyMap"],[20,41,5,0],[21,2,5,40],[21,6,5,40,"_reactJsxDevRuntime"],[21,25,5,40],[21,28,5,40,"require"],[21,35,5,40],[21,36,5,40,"_dependencyMap"],[21,50,5,40],[22,2,24,0],[22,8,24,6,"AuthContext"],[22,19,24,17],[22,35,24,20],[22,39,24,20,"createContext"],[22,45,24,33],[22,46,24,33,"createContext"],[22,59,24,33],[22,61,24,63,"undefined"],[22,70,24,72],[22,71,24,73],[23,2,26,7],[23,11,26,16,"AuthProvider"],[23,23,26,28,"AuthProvider"],[23,24,26,29],[24,4,26,31,"children"],[25,2,26,71],[25,3,26,72],[25,5,26,74],[26,4,27,2],[26,10,27,8],[26,11,27,9,"user"],[26,15,27,13],[26,17,27,15,"setUser"],[26,24,27,22],[26,25,27,23],[26,28,27,26],[26,32,27,26,"useState"],[26,38,27,34],[26,39,27,34,"useState"],[26,47,27,34],[26,49,27,48],[26,53,27,52],[26,54,27,53],[27,4,28,2],[27,10,28,8],[27,11,28,9,"token"],[27,16,28,14],[27,18,28,16,"setToken"],[27,26,28,24],[27,27,28,25],[27,30,28,28],[27,34,28,28,"useState"],[27,40,28,36],[27,41,28,36,"useState"],[27,49,28,36],[27,51,28,52],[27,55,28,56],[27,56,28,57],[28,4,29,2],[28,10,29,8],[28,11,29,9,"loading"],[28,18,29,16],[28,20,29,18,"setLoading"],[28,30,29,28],[28,31,29,29],[28,34,29,32],[28,38,29,32,"useState"],[28,44,29,40],[28,45,29,40,"useState"],[28,53,29,40],[28,55,29,41],[28,59,29,45],[28,60,29,46],[29,4,31,2],[29,8,31,2,"useEffect"],[29,14,31,11],[29,15,31,11,"useEffect"],[29,24,31,11],[29,26,31,12],[29,32,31,18],[30,6,32,4,"loadStoredAuth"],[30,20,32,18],[30,21,32,19],[30,22,32,20],[31,4,33,2],[31,5,33,3],[31,7,33,5],[31,9,33,7],[31,10,33,8],[32,4,35,2],[32,10,35,8,"loadStoredAuth"],[32,24,35,22],[32,27,35,25],[32,33,35,25,"loadStoredAuth"],[32,34,35,25],[32,39,35,37],[33,6,36,4],[33,10,36,8],[34,8,37,6],[34,14,37,12,"storedToken"],[34,25,37,23],[34,28,37,26],[34,34,37,32,"AsyncStorage"],[34,46,37,44],[34,47,37,44,"default"],[34,54,37,44],[34,55,37,45,"getItem"],[34,62,37,52],[34,63,37,53],[34,70,37,60],[34,71,37,61],[35,8,38,6],[35,14,38,12,"storedUser"],[35,24,38,22],[35,27,38,25],[35,33,38,31,"AsyncStorage"],[35,45,38,43],[35,46,38,43,"default"],[35,53,38,43],[35,54,38,44,"getItem"],[35,61,38,51],[35,62,38,52],[35,68,38,58],[35,69,38,59],[36,8,40,6],[36,12,40,10,"storedToken"],[36,23,40,21],[36,27,40,25,"storedUser"],[36,37,40,35],[36,39,40,37],[37,10,41,8,"setToken"],[37,18,41,16],[37,19,41,17,"storedToken"],[37,30,41,28],[37,31,41,29],[38,10,42,8,"setUser"],[38,17,42,15],[38,18,42,16,"JSON"],[38,22,42,20],[38,23,42,21,"parse"],[38,28,42,26],[38,29,42,27,"storedUser"],[38,39,42,37],[38,40,42,38],[38,41,42,39],[39,8,43,6],[40,6,44,4],[40,7,44,5],[40,8,44,6],[40,15,44,13,"error"],[40,20,44,18],[40,22,44,20],[41,8,45,6,"console"],[41,15,45,13],[41,16,45,14,"error"],[41,21,45,19],[41,22,45,20],[41,43,45,41],[41,45,45,43,"error"],[41,50,45,48],[41,51,45,49],[42,6,46,4],[42,7,46,5],[42,16,46,14],[43,8,47,6,"setLoading"],[43,18,47,16],[43,19,47,17],[43,24,47,22],[43,25,47,23],[44,6,48,4],[45,4,49,2],[45,5,49,3],[46,4,51,2],[46,10,51,8,"login"],[46,15,51,13],[46,18,51,16],[46,24,51,16,"login"],[46,25,51,23,"username"],[46,33,51,39],[46,35,51,41,"password"],[46,43,51,57],[46,48,51,62],[47,6,52,4],[47,10,52,8],[48,8,53,6,"console"],[48,15,53,13],[48,16,53,14,"log"],[48,19,53,17],[48,20,53,18],[48,56,53,54],[48,58,53,56],[48,61,53,59,"API_URL"],[48,71,53,66],[48,72,53,66,"API_URL"],[48,79,53,66],[48,92,53,79],[48,93,53,80],[49,8,54,6],[49,14,54,12,"response"],[49,22,54,20],[49,25,54,23],[49,31,54,29,"axios"],[49,36,54,34],[49,37,54,34,"default"],[49,44,54,34],[49,45,54,35,"post"],[49,49,54,39],[49,50,54,40],[49,53,54,43,"API_URL"],[49,63,54,50],[49,64,54,50,"API_URL"],[49,71,54,50],[49,84,54,63],[49,86,54,65],[50,10,55,8,"username"],[50,18,55,16],[51,10,56,8,"password"],[52,8,57,6],[52,9,57,7],[52,10,57,8],[53,8,59,6,"console"],[53,15,59,13],[53,16,59,14,"log"],[53,19,59,17],[53,20,59,18],[53,52,59,50],[53,53,59,51],[54,8,60,6],[54,14,60,12],[55,10,60,14,"access_token"],[55,22,60,26],[56,10,60,28,"user"],[56,14,60,32],[56,16,60,34,"userData"],[57,8,60,43],[57,9,60,44],[57,12,60,47,"response"],[57,20,60,55],[57,21,60,56,"data"],[57,25,60,60],[58,8,62,6],[58,14,62,12,"AsyncStorage"],[58,26,62,24],[58,27,62,24,"default"],[58,34,62,24],[58,35,62,25,"setItem"],[58,42,62,32],[58,43,62,33],[58,50,62,40],[58,52,62,42,"access_token"],[58,64,62,54],[58,65,62,55],[59,8,63,6],[59,14,63,12,"AsyncStorage"],[59,26,63,24],[59,27,63,24,"default"],[59,34,63,24],[59,35,63,25,"setItem"],[59,42,63,32],[59,43,63,33],[59,49,63,39],[59,51,63,41,"JSON"],[59,55,63,45],[59,56,63,46,"stringify"],[59,65,63,55],[59,66,63,56,"userData"],[59,74,63,64],[59,75,63,65],[59,76,63,66],[60,8,65,6,"setToken"],[60,16,65,14],[60,17,65,15,"access_token"],[60,29,65,27],[60,30,65,28],[61,8,66,6,"setUser"],[61,15,66,13],[61,16,66,14,"userData"],[61,24,66,22],[61,25,66,23],[62,6,67,4],[62,7,67,5],[62,8,67,6],[62,15,67,13,"error"],[62,20,67,23],[62,22,67,25],[63,8,68,6,"console"],[63,15,68,13],[63,16,68,14,"error"],[63,21,68,19],[63,22,68,20],[63,50,68,48],[63,52,68,50,"error"],[63,57,68,55],[63,58,68,56],[64,8,69,6,"console"],[64,15,69,13],[64,16,69,14,"error"],[64,21,69,19],[64,22,69,20],[64,53,69,51],[64,55,69,53,"error"],[64,60,69,58],[64,61,69,59,"response"],[64,69,69,67],[64,71,69,69,"data"],[64,75,69,73],[64,76,69,74],[65,8,70,6,"console"],[65,15,70,13],[65,16,70,14,"error"],[65,21,70,19],[65,22,70,20],[65,52,70,50],[65,54,70,52,"error"],[65,59,70,57],[65,60,70,58,"message"],[65,67,70,65],[65,68,70,66],[66,8,71,6],[66,14,71,12],[66,18,71,16,"Error"],[66,23,71,21],[66,24,71,22,"error"],[66,29,71,27],[66,30,71,28,"response"],[66,38,71,36],[66,40,71,38,"data"],[66,44,71,42],[66,46,71,44,"detail"],[66,52,71,50],[66,56,71,54,"error"],[66,61,71,59],[66,62,71,60,"message"],[66,69,71,67],[66,73,71,71],[66,98,71,96],[66,99,71,97],[67,6,72,4],[68,4,73,2],[68,5,73,3],[69,4,75,2],[69,10,75,8,"logout"],[69,16,75,14],[69,19,75,17],[69,25,75,17,"logout"],[69,26,75,17],[69,31,75,29],[70,6,76,4],[70,10,76,8],[71,8,77,6],[71,14,77,12,"AsyncStorage"],[71,26,77,24],[71,27,77,24,"default"],[71,34,77,24],[71,35,77,25,"removeItem"],[71,45,77,35],[71,46,77,36],[71,53,77,43],[71,54,77,44],[72,8,78,6],[72,14,78,12,"AsyncStorage"],[72,26,78,24],[72,27,78,24,"default"],[72,34,78,24],[72,35,78,25,"removeItem"],[72,45,78,35],[72,46,78,36],[72,52,78,42],[72,53,78,43],[73,8,79,6,"setToken"],[73,16,79,14],[73,17,79,15],[73,21,79,19],[73,22,79,20],[74,8,80,6,"setUser"],[74,15,80,13],[74,16,80,14],[74,20,80,18],[74,21,80,19],[75,6,81,4],[75,7,81,5],[75,8,81,6],[75,15,81,13,"error"],[75,20,81,18],[75,22,81,20],[76,8,82,6,"console"],[76,15,82,13],[76,16,82,14,"error"],[76,21,82,19],[76,22,82,20],[76,37,82,35],[76,39,82,37,"error"],[76,44,82,42],[76,45,82,43],[77,6,83,4],[78,4,84,2],[78,5,84,3],[79,4,86,2],[79,24,87,4],[79,28,87,4,"_reactJsxDevRuntime"],[79,47,87,4],[79,48,87,4,"jsxDEV"],[79,54,87,4],[79,56,87,5,"AuthContext"],[79,67,87,16],[79,68,87,17,"Provider"],[79,76,87,25],[80,6,87,26,"value"],[80,11,87,31],[80,13,87,33],[81,8,87,35,"user"],[81,12,87,39],[82,8,87,41,"token"],[82,13,87,46],[83,8,87,48,"login"],[83,13,87,53],[84,8,87,55,"logout"],[84,14,87,61],[85,8,87,63,"loading"],[86,6,87,71],[86,7,87,73],[87,6,87,73,"children"],[87,14,87,73],[87,16,88,7,"children"],[88,4,88,15],[89,6,88,15,"fileName"],[89,14,88,15],[89,16,88,15,"_jsxFileName"],[89,28,88,15],[90,6,88,15,"lineNumber"],[90,16,88,15],[91,6,88,15,"columnNumber"],[91,18,88,15],[92,4,88,15],[92,11,89,26],[92,12,89,27],[93,2,91,0],[94,2,93,7],[94,11,93,16,"useAuth"],[94,18,93,23,"useAuth"],[94,19,93,23],[94,21,93,26],[95,4,94,2],[95,10,94,8,"context"],[95,17,94,15],[95,20,94,18],[95,24,94,18,"useContext"],[95,30,94,28],[95,31,94,28,"useContext"],[95,41,94,28],[95,43,94,29,"AuthContext"],[95,54,94,40],[95,55,94,41],[96,4,95,2],[96,8,95,6,"context"],[96,15,95,13],[96,20,95,18,"undefined"],[96,29,95,27],[96,31,95,29],[97,6,96,4],[97,12,96,10],[97,16,96,14,"Error"],[97,21,96,19],[97,22,96,20],[97,67,96,65],[97,68,96,66],[98,4,97,2],[99,4,98,2],[99,11,98,9,"context"],[99,18,98,16],[100,2,99,0],[101,0,99,1],[101,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCyB;YCK;GDE;yBEE;GFc;gBGE;GHsB;iBIE;GJS;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}