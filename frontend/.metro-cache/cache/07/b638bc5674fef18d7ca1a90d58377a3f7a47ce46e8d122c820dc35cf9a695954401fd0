{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"../config/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":216},"end":{"line":5,"column":40,"index":256}}],"key":"V94urzZZSfzzXHrNxWFShT8IuQo=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\";\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _react = require(_dependencyMap[0], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[2], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _configApi = require(_dependencyMap[3], \"../config/api\");\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        console.log('[AuthContext] Attempting login to:', `${_configApi.API_URL}/auth/login`);\n        const response = await axios.default.post(`${_configApi.API_URL}/auth/login`, {\n          username,\n          password\n        });\n        console.log('[AuthContext] Login successful');\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('[AuthContext] Login error:', error);\n        console.error('[AuthContext] Error response:', error.response?.data);\n        console.error('[AuthContext] Error message:', error.message);\n        throw new Error(error.response?.data?.detail || error.message || 'Error al iniciar sesiÃ³n');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 5\n    }, this);\n  }\n  function useAuth() {\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n});","lineCount":101,"map":[[13,2,24,0,"exports"],[13,9,24,0],[13,10,24,0,"AuthProvider"],[13,22,24,0],[13,25,24,0,"AuthProvider"],[13,37,24,0],[14,2,91,0,"exports"],[14,9,91,0],[14,10,91,0,"useAuth"],[14,17,91,0],[14,20,91,0,"useAuth"],[14,27,91,0],[15,2,1,0],[15,6,1,0,"_react"],[15,12,1,0],[15,15,1,0,"require"],[15,22,1,0],[15,23,1,0,"_dependencyMap"],[15,37,1,0],[16,2,2,0],[16,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[16,42,2,0],[16,45,2,0,"require"],[16,52,2,0],[16,53,2,0,"_dependencyMap"],[16,67,2,0],[17,2,2,0],[17,6,2,0,"AsyncStorage"],[17,18,2,0],[17,21,2,0,"_interopDefault"],[17,36,2,0],[17,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[17,73,2,0],[18,2,3,0],[18,6,3,0,"_axios"],[18,12,3,0],[18,15,3,0,"require"],[18,22,3,0],[18,23,3,0,"_dependencyMap"],[18,37,3,0],[19,2,3,0],[19,6,3,0,"axios"],[19,11,3,0],[19,14,3,0,"_interopDefault"],[19,29,3,0],[19,30,3,0,"_axios"],[19,36,3,0],[20,2,5,0],[20,6,5,0,"_configApi"],[20,16,5,0],[20,19,5,0,"require"],[20,26,5,0],[20,27,5,0,"_dependencyMap"],[20,41,5,0],[21,2,5,40],[21,6,5,40,"_reactJsxDevRuntime"],[21,25,5,40],[21,28,5,40,"require"],[21,35,5,40],[21,36,5,40,"_dependencyMap"],[21,50,5,40],[22,2,22,0],[22,8,22,6,"AuthContext"],[22,19,22,17],[22,35,22,20],[22,39,22,20,"createContext"],[22,45,22,33],[22,46,22,33,"createContext"],[22,59,22,33],[22,61,22,63,"undefined"],[22,70,22,72],[22,71,22,73],[23,2,24,7],[23,11,24,16,"AuthProvider"],[23,23,24,28,"AuthProvider"],[23,24,24,29],[24,4,24,31,"children"],[25,2,24,71],[25,3,24,72],[25,5,24,74],[26,4,25,2],[26,10,25,8],[26,11,25,9,"user"],[26,15,25,13],[26,17,25,15,"setUser"],[26,24,25,22],[26,25,25,23],[26,28,25,26],[26,32,25,26,"useState"],[26,38,25,34],[26,39,25,34,"useState"],[26,47,25,34],[26,49,25,48],[26,53,25,52],[26,54,25,53],[27,4,26,2],[27,10,26,8],[27,11,26,9,"token"],[27,16,26,14],[27,18,26,16,"setToken"],[27,26,26,24],[27,27,26,25],[27,30,26,28],[27,34,26,28,"useState"],[27,40,26,36],[27,41,26,36,"useState"],[27,49,26,36],[27,51,26,52],[27,55,26,56],[27,56,26,57],[28,4,27,2],[28,10,27,8],[28,11,27,9,"loading"],[28,18,27,16],[28,20,27,18,"setLoading"],[28,30,27,28],[28,31,27,29],[28,34,27,32],[28,38,27,32,"useState"],[28,44,27,40],[28,45,27,40,"useState"],[28,53,27,40],[28,55,27,41],[28,59,27,45],[28,60,27,46],[29,4,29,2],[29,8,29,2,"useEffect"],[29,14,29,11],[29,15,29,11,"useEffect"],[29,24,29,11],[29,26,29,12],[29,32,29,18],[30,6,30,4,"loadStoredAuth"],[30,20,30,18],[30,21,30,19],[30,22,30,20],[31,4,31,2],[31,5,31,3],[31,7,31,5],[31,9,31,7],[31,10,31,8],[32,4,33,2],[32,10,33,8,"loadStoredAuth"],[32,24,33,22],[32,27,33,25],[32,33,33,25,"loadStoredAuth"],[32,34,33,25],[32,39,33,37],[33,6,34,4],[33,10,34,8],[34,8,35,6],[34,14,35,12,"storedToken"],[34,25,35,23],[34,28,35,26],[34,34,35,32,"AsyncStorage"],[34,46,35,44],[34,47,35,44,"default"],[34,54,35,44],[34,55,35,45,"getItem"],[34,62,35,52],[34,63,35,53],[34,70,35,60],[34,71,35,61],[35,8,36,6],[35,14,36,12,"storedUser"],[35,24,36,22],[35,27,36,25],[35,33,36,31,"AsyncStorage"],[35,45,36,43],[35,46,36,43,"default"],[35,53,36,43],[35,54,36,44,"getItem"],[35,61,36,51],[35,62,36,52],[35,68,36,58],[35,69,36,59],[36,8,38,6],[36,12,38,10,"storedToken"],[36,23,38,21],[36,27,38,25,"storedUser"],[36,37,38,35],[36,39,38,37],[37,10,39,8,"setToken"],[37,18,39,16],[37,19,39,17,"storedToken"],[37,30,39,28],[37,31,39,29],[38,10,40,8,"setUser"],[38,17,40,15],[38,18,40,16,"JSON"],[38,22,40,20],[38,23,40,21,"parse"],[38,28,40,26],[38,29,40,27,"storedUser"],[38,39,40,37],[38,40,40,38],[38,41,40,39],[39,8,41,6],[40,6,42,4],[40,7,42,5],[40,8,42,6],[40,15,42,13,"error"],[40,20,42,18],[40,22,42,20],[41,8,43,6,"console"],[41,15,43,13],[41,16,43,14,"error"],[41,21,43,19],[41,22,43,20],[41,43,43,41],[41,45,43,43,"error"],[41,50,43,48],[41,51,43,49],[42,6,44,4],[42,7,44,5],[42,16,44,14],[43,8,45,6,"setLoading"],[43,18,45,16],[43,19,45,17],[43,24,45,22],[43,25,45,23],[44,6,46,4],[45,4,47,2],[45,5,47,3],[46,4,49,2],[46,10,49,8,"login"],[46,15,49,13],[46,18,49,16],[46,24,49,16,"login"],[46,25,49,23,"username"],[46,33,49,39],[46,35,49,41,"password"],[46,43,49,57],[46,48,49,62],[47,6,50,4],[47,10,50,8],[48,8,51,6,"console"],[48,15,51,13],[48,16,51,14,"log"],[48,19,51,17],[48,20,51,18],[48,56,51,54],[48,58,51,56],[48,61,51,59,"API_URL"],[48,71,51,66],[48,72,51,66,"API_URL"],[48,79,51,66],[48,92,51,79],[48,93,51,80],[49,8,52,6],[49,14,52,12,"response"],[49,22,52,20],[49,25,52,23],[49,31,52,29,"axios"],[49,36,52,34],[49,37,52,34,"default"],[49,44,52,34],[49,45,52,35,"post"],[49,49,52,39],[49,50,52,40],[49,53,52,43,"API_URL"],[49,63,52,50],[49,64,52,50,"API_URL"],[49,71,52,50],[49,84,52,63],[49,86,52,65],[50,10,53,8,"username"],[50,18,53,16],[51,10,54,8,"password"],[52,8,55,6],[52,9,55,7],[52,10,55,8],[53,8,57,6,"console"],[53,15,57,13],[53,16,57,14,"log"],[53,19,57,17],[53,20,57,18],[53,52,57,50],[53,53,57,51],[54,8,58,6],[54,14,58,12],[55,10,58,14,"access_token"],[55,22,58,26],[56,10,58,28,"user"],[56,14,58,32],[56,16,58,34,"userData"],[57,8,58,43],[57,9,58,44],[57,12,58,47,"response"],[57,20,58,55],[57,21,58,56,"data"],[57,25,58,60],[58,8,60,6],[58,14,60,12,"AsyncStorage"],[58,26,60,24],[58,27,60,24,"default"],[58,34,60,24],[58,35,60,25,"setItem"],[58,42,60,32],[58,43,60,33],[58,50,60,40],[58,52,60,42,"access_token"],[58,64,60,54],[58,65,60,55],[59,8,61,6],[59,14,61,12,"AsyncStorage"],[59,26,61,24],[59,27,61,24,"default"],[59,34,61,24],[59,35,61,25,"setItem"],[59,42,61,32],[59,43,61,33],[59,49,61,39],[59,51,61,41,"JSON"],[59,55,61,45],[59,56,61,46,"stringify"],[59,65,61,55],[59,66,61,56,"userData"],[59,74,61,64],[59,75,61,65],[59,76,61,66],[60,8,63,6,"setToken"],[60,16,63,14],[60,17,63,15,"access_token"],[60,29,63,27],[60,30,63,28],[61,8,64,6,"setUser"],[61,15,64,13],[61,16,64,14,"userData"],[61,24,64,22],[61,25,64,23],[62,6,65,4],[62,7,65,5],[62,8,65,6],[62,15,65,13,"error"],[62,20,65,23],[62,22,65,25],[63,8,66,6,"console"],[63,15,66,13],[63,16,66,14,"error"],[63,21,66,19],[63,22,66,20],[63,50,66,48],[63,52,66,50,"error"],[63,57,66,55],[63,58,66,56],[64,8,67,6,"console"],[64,15,67,13],[64,16,67,14,"error"],[64,21,67,19],[64,22,67,20],[64,53,67,51],[64,55,67,53,"error"],[64,60,67,58],[64,61,67,59,"response"],[64,69,67,67],[64,71,67,69,"data"],[64,75,67,73],[64,76,67,74],[65,8,68,6,"console"],[65,15,68,13],[65,16,68,14,"error"],[65,21,68,19],[65,22,68,20],[65,52,68,50],[65,54,68,52,"error"],[65,59,68,57],[65,60,68,58,"message"],[65,67,68,65],[65,68,68,66],[66,8,69,6],[66,14,69,12],[66,18,69,16,"Error"],[66,23,69,21],[66,24,69,22,"error"],[66,29,69,27],[66,30,69,28,"response"],[66,38,69,36],[66,40,69,38,"data"],[66,44,69,42],[66,46,69,44,"detail"],[66,52,69,50],[66,56,69,54,"error"],[66,61,69,59],[66,62,69,60,"message"],[66,69,69,67],[66,73,69,71],[66,98,69,96],[66,99,69,97],[67,6,70,4],[68,4,71,2],[68,5,71,3],[69,4,73,2],[69,10,73,8,"logout"],[69,16,73,14],[69,19,73,17],[69,25,73,17,"logout"],[69,26,73,17],[69,31,73,29],[70,6,74,4],[70,10,74,8],[71,8,75,6],[71,14,75,12,"AsyncStorage"],[71,26,75,24],[71,27,75,24,"default"],[71,34,75,24],[71,35,75,25,"removeItem"],[71,45,75,35],[71,46,75,36],[71,53,75,43],[71,54,75,44],[72,8,76,6],[72,14,76,12,"AsyncStorage"],[72,26,76,24],[72,27,76,24,"default"],[72,34,76,24],[72,35,76,25,"removeItem"],[72,45,76,35],[72,46,76,36],[72,52,76,42],[72,53,76,43],[73,8,77,6,"setToken"],[73,16,77,14],[73,17,77,15],[73,21,77,19],[73,22,77,20],[74,8,78,6,"setUser"],[74,15,78,13],[74,16,78,14],[74,20,78,18],[74,21,78,19],[75,6,79,4],[75,7,79,5],[75,8,79,6],[75,15,79,13,"error"],[75,20,79,18],[75,22,79,20],[76,8,80,6,"console"],[76,15,80,13],[76,16,80,14,"error"],[76,21,80,19],[76,22,80,20],[76,37,80,35],[76,39,80,37,"error"],[76,44,80,42],[76,45,80,43],[77,6,81,4],[78,4,82,2],[78,5,82,3],[79,4,84,2],[79,24,85,4],[79,28,85,4,"_reactJsxDevRuntime"],[79,47,85,4],[79,48,85,4,"jsxDEV"],[79,54,85,4],[79,56,85,5,"AuthContext"],[79,67,85,16],[79,68,85,17,"Provider"],[79,76,85,25],[80,6,85,26,"value"],[80,11,85,31],[80,13,85,33],[81,8,85,35,"user"],[81,12,85,39],[82,8,85,41,"token"],[82,13,85,46],[83,8,85,48,"login"],[83,13,85,53],[84,8,85,55,"logout"],[84,14,85,61],[85,8,85,63,"loading"],[86,6,85,71],[86,7,85,73],[87,6,85,73,"children"],[87,14,85,73],[87,16,86,7,"children"],[88,4,86,15],[89,6,86,15,"fileName"],[89,14,86,15],[89,16,86,15,"_jsxFileName"],[89,28,86,15],[90,6,86,15,"lineNumber"],[90,16,86,15],[91,6,86,15,"columnNumber"],[91,18,86,15],[92,4,86,15],[92,11,87,26],[92,12,87,27],[93,2,89,0],[94,2,91,7],[94,11,91,16,"useAuth"],[94,18,91,23,"useAuth"],[94,19,91,23],[94,21,91,26],[95,4,92,2],[95,10,92,8,"context"],[95,17,92,15],[95,20,92,18],[95,24,92,18,"useContext"],[95,30,92,28],[95,31,92,28,"useContext"],[95,41,92,28],[95,43,92,29,"AuthContext"],[95,54,92,40],[95,55,92,41],[96,4,93,2],[96,8,93,6,"context"],[96,15,93,13],[96,20,93,18,"undefined"],[96,29,93,27],[96,31,93,29],[97,6,94,4],[97,12,94,10],[97,16,94,14,"Error"],[97,21,94,19],[97,22,94,20],[97,67,94,65],[97,68,94,66],[98,4,95,2],[99,4,96,2],[99,11,96,9,"context"],[99,18,96,16],[100,2,97,0],[101,0,97,1],[101,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCuB;YCK;GDE;yBEE;GFc;gBGE;GHsB;iBIE;GJS;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}