{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":69,"index":148}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":149},"end":{"line":3,"column":26,"index":175}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/app/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  exports.AuthProvider = AuthProvider;\n  exports.useAuth = useAuth;\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _react = require(_dependencyMap[1], \"react\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _axios = require(_dependencyMap[3], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactJsxDevRuntime = require(_dependencyMap[4], \"react/jsx-dev-runtime\");\n  const API_URL = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL + '/api';\n  const AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function AuthProvider({\n    children\n  }) {\n    _s();\n    const [user, setUser] = (0, _react.useState)(null);\n    const [token, setToken] = (0, _react.useState)(null);\n    const [loading, setLoading] = (0, _react.useState)(true);\n    (0, _react.useEffect)(() => {\n      loadStoredAuth();\n    }, []);\n    const loadStoredAuth = async () => {\n      try {\n        const storedToken = await AsyncStorage.default.getItem('token');\n        const storedUser = await AsyncStorage.default.getItem('user');\n        if (storedToken && storedUser) {\n          setToken(storedToken);\n          setUser(JSON.parse(storedUser));\n        }\n      } catch (error) {\n        console.error('Error loading auth:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n    const login = async (username, password) => {\n      try {\n        const response = await axios.default.post(`${API_URL}/auth/login`, {\n          username,\n          password\n        });\n        const {\n          access_token,\n          user: userData\n        } = response.data;\n        await AsyncStorage.default.setItem('token', access_token);\n        await AsyncStorage.default.setItem('user', JSON.stringify(userData));\n        setToken(access_token);\n        setUser(userData);\n      } catch (error) {\n        console.error('Login error:', error);\n        throw new Error(error.response?.data?.detail || 'Error al iniciar sesiÃ³n');\n      }\n    };\n    const logout = async () => {\n      try {\n        await AsyncStorage.default.removeItem('token');\n        await AsyncStorage.default.removeItem('user');\n        setToken(null);\n        setUser(null);\n      } catch (error) {\n        console.error('Logout error:', error);\n      }\n    };\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        token,\n        login,\n        logout,\n        loading\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }, this);\n  }\n  _s(AuthProvider, \"uAkFQMmIUxfxJcQTEb8tCM/KFt4=\");\n  _c = AuthProvider;\n  function useAuth() {\n    _s2();\n    const context = (0, _react.useContext)(AuthContext);\n    if (context === undefined) {\n      throw new Error('useAuth must be used within an AuthProvider');\n    }\n    return context;\n  }\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":107,"map":[[15,2,25,0,"exports"],[15,9,25,0],[15,10,25,0,"AuthProvider"],[15,22,25,0],[15,25,25,0,"AuthProvider"],[15,37,25,0],[16,2,88,0,"exports"],[16,9,88,0],[16,10,88,0,"useAuth"],[16,17,88,0],[16,20,88,0,"useAuth"],[16,27,88,0],[17,2,94,1],[17,6,94,1,"_expoVirtualEnv"],[17,21,94,1],[17,24,94,1,"require"],[17,31,94,1],[17,32,94,1,"_dependencyMap"],[17,46,94,1],[18,2,1,0],[18,6,1,0,"_react"],[18,12,1,0],[18,15,1,0,"require"],[18,22,1,0],[18,23,1,0,"_dependencyMap"],[18,37,1,0],[19,2,2,0],[19,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[19,42,2,0],[19,45,2,0,"require"],[19,52,2,0],[19,53,2,0,"_dependencyMap"],[19,67,2,0],[20,2,2,0],[20,6,2,0,"AsyncStorage"],[20,18,2,0],[20,21,2,0,"_interopDefault"],[20,36,2,0],[20,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[20,73,2,0],[21,2,3,0],[21,6,3,0,"_axios"],[21,12,3,0],[21,15,3,0,"require"],[21,22,3,0],[21,23,3,0,"_dependencyMap"],[21,37,3,0],[22,2,3,0],[22,6,3,0,"axios"],[22,11,3,0],[22,14,3,0,"_interopDefault"],[22,29,3,0],[22,30,3,0,"_axios"],[22,36,3,0],[23,2,3,26],[23,6,3,26,"_reactJsxDevRuntime"],[23,25,3,26],[23,28,3,26,"require"],[23,35,3,26],[23,36,3,26,"_dependencyMap"],[23,50,3,26],[24,2,6,0],[24,8,6,6,"API_URL"],[24,15,6,13],[24,18,6,16,"_expoVirtualEnv"],[24,33,6,16],[24,34,6,16,"env"],[24,37,6,16],[24,38,6,16,"EXPO_PUBLIC_BACKEND_URL"],[24,61,6,16],[24,64,6,54],[24,70,6,60],[25,2,23,0],[25,8,23,6,"AuthContext"],[25,19,23,17],[25,35,23,20],[25,39,23,20,"createContext"],[25,45,23,33],[25,46,23,33,"createContext"],[25,59,23,33],[25,61,23,63,"undefined"],[25,70,23,72],[25,71,23,73],[26,2,25,7],[26,11,25,16,"AuthProvider"],[26,23,25,28,"AuthProvider"],[26,24,25,29],[27,4,25,31,"children"],[28,2,25,71],[28,3,25,72],[28,5,25,74],[29,4,25,74,"_s"],[29,6,25,74],[30,4,26,2],[30,10,26,8],[30,11,26,9,"user"],[30,15,26,13],[30,17,26,15,"setUser"],[30,24,26,22],[30,25,26,23],[30,28,26,26],[30,32,26,26,"useState"],[30,38,26,34],[30,39,26,34,"useState"],[30,47,26,34],[30,49,26,48],[30,53,26,52],[30,54,26,53],[31,4,27,2],[31,10,27,8],[31,11,27,9,"token"],[31,16,27,14],[31,18,27,16,"setToken"],[31,26,27,24],[31,27,27,25],[31,30,27,28],[31,34,27,28,"useState"],[31,40,27,36],[31,41,27,36,"useState"],[31,49,27,36],[31,51,27,52],[31,55,27,56],[31,56,27,57],[32,4,28,2],[32,10,28,8],[32,11,28,9,"loading"],[32,18,28,16],[32,20,28,18,"setLoading"],[32,30,28,28],[32,31,28,29],[32,34,28,32],[32,38,28,32,"useState"],[32,44,28,40],[32,45,28,40,"useState"],[32,53,28,40],[32,55,28,41],[32,59,28,45],[32,60,28,46],[33,4,30,2],[33,8,30,2,"useEffect"],[33,14,30,11],[33,15,30,11,"useEffect"],[33,24,30,11],[33,26,30,12],[33,32,30,18],[34,6,31,4,"loadStoredAuth"],[34,20,31,18],[34,21,31,19],[34,22,31,20],[35,4,32,2],[35,5,32,3],[35,7,32,5],[35,9,32,7],[35,10,32,8],[36,4,34,2],[36,10,34,8,"loadStoredAuth"],[36,24,34,22],[36,27,34,25],[36,33,34,25,"loadStoredAuth"],[36,34,34,25],[36,39,34,37],[37,6,35,4],[37,10,35,8],[38,8,36,6],[38,14,36,12,"storedToken"],[38,25,36,23],[38,28,36,26],[38,34,36,32,"AsyncStorage"],[38,46,36,44],[38,47,36,44,"default"],[38,54,36,44],[38,55,36,45,"getItem"],[38,62,36,52],[38,63,36,53],[38,70,36,60],[38,71,36,61],[39,8,37,6],[39,14,37,12,"storedUser"],[39,24,37,22],[39,27,37,25],[39,33,37,31,"AsyncStorage"],[39,45,37,43],[39,46,37,43,"default"],[39,53,37,43],[39,54,37,44,"getItem"],[39,61,37,51],[39,62,37,52],[39,68,37,58],[39,69,37,59],[40,8,39,6],[40,12,39,10,"storedToken"],[40,23,39,21],[40,27,39,25,"storedUser"],[40,37,39,35],[40,39,39,37],[41,10,40,8,"setToken"],[41,18,40,16],[41,19,40,17,"storedToken"],[41,30,40,28],[41,31,40,29],[42,10,41,8,"setUser"],[42,17,41,15],[42,18,41,16,"JSON"],[42,22,41,20],[42,23,41,21,"parse"],[42,28,41,26],[42,29,41,27,"storedUser"],[42,39,41,37],[42,40,41,38],[42,41,41,39],[43,8,42,6],[44,6,43,4],[44,7,43,5],[44,8,43,6],[44,15,43,13,"error"],[44,20,43,18],[44,22,43,20],[45,8,44,6,"console"],[45,15,44,13],[45,16,44,14,"error"],[45,21,44,19],[45,22,44,20],[45,43,44,41],[45,45,44,43,"error"],[45,50,44,48],[45,51,44,49],[46,6,45,4],[46,7,45,5],[46,16,45,14],[47,8,46,6,"setLoading"],[47,18,46,16],[47,19,46,17],[47,24,46,22],[47,25,46,23],[48,6,47,4],[49,4,48,2],[49,5,48,3],[50,4,50,2],[50,10,50,8,"login"],[50,15,50,13],[50,18,50,16],[50,24,50,16,"login"],[50,25,50,23,"username"],[50,33,50,39],[50,35,50,41,"password"],[50,43,50,57],[50,48,50,62],[51,6,51,4],[51,10,51,8],[52,8,52,6],[52,14,52,12,"response"],[52,22,52,20],[52,25,52,23],[52,31,52,29,"axios"],[52,36,52,34],[52,37,52,34,"default"],[52,44,52,34],[52,45,52,35,"post"],[52,49,52,39],[52,50,52,40],[52,53,52,43,"API_URL"],[52,60,52,50],[52,73,52,63],[52,75,52,65],[53,10,53,8,"username"],[53,18,53,16],[54,10,54,8,"password"],[55,8,55,6],[55,9,55,7],[55,10,55,8],[56,8,57,6],[56,14,57,12],[57,10,57,14,"access_token"],[57,22,57,26],[58,10,57,28,"user"],[58,14,57,32],[58,16,57,34,"userData"],[59,8,57,43],[59,9,57,44],[59,12,57,47,"response"],[59,20,57,55],[59,21,57,56,"data"],[59,25,57,60],[60,8,59,6],[60,14,59,12,"AsyncStorage"],[60,26,59,24],[60,27,59,24,"default"],[60,34,59,24],[60,35,59,25,"setItem"],[60,42,59,32],[60,43,59,33],[60,50,59,40],[60,52,59,42,"access_token"],[60,64,59,54],[60,65,59,55],[61,8,60,6],[61,14,60,12,"AsyncStorage"],[61,26,60,24],[61,27,60,24,"default"],[61,34,60,24],[61,35,60,25,"setItem"],[61,42,60,32],[61,43,60,33],[61,49,60,39],[61,51,60,41,"JSON"],[61,55,60,45],[61,56,60,46,"stringify"],[61,65,60,55],[61,66,60,56,"userData"],[61,74,60,64],[61,75,60,65],[61,76,60,66],[62,8,62,6,"setToken"],[62,16,62,14],[62,17,62,15,"access_token"],[62,29,62,27],[62,30,62,28],[63,8,63,6,"setUser"],[63,15,63,13],[63,16,63,14,"userData"],[63,24,63,22],[63,25,63,23],[64,6,64,4],[64,7,64,5],[64,8,64,6],[64,15,64,13,"error"],[64,20,64,23],[64,22,64,25],[65,8,65,6,"console"],[65,15,65,13],[65,16,65,14,"error"],[65,21,65,19],[65,22,65,20],[65,36,65,34],[65,38,65,36,"error"],[65,43,65,41],[65,44,65,42],[66,8,66,6],[66,14,66,12],[66,18,66,16,"Error"],[66,23,66,21],[66,24,66,22,"error"],[66,29,66,27],[66,30,66,28,"response"],[66,38,66,36],[66,40,66,38,"data"],[66,44,66,42],[66,46,66,44,"detail"],[66,52,66,50],[66,56,66,54],[66,81,66,79],[66,82,66,80],[67,6,67,4],[68,4,68,2],[68,5,68,3],[69,4,70,2],[69,10,70,8,"logout"],[69,16,70,14],[69,19,70,17],[69,25,70,17,"logout"],[69,26,70,17],[69,31,70,29],[70,6,71,4],[70,10,71,8],[71,8,72,6],[71,14,72,12,"AsyncStorage"],[71,26,72,24],[71,27,72,24,"default"],[71,34,72,24],[71,35,72,25,"removeItem"],[71,45,72,35],[71,46,72,36],[71,53,72,43],[71,54,72,44],[72,8,73,6],[72,14,73,12,"AsyncStorage"],[72,26,73,24],[72,27,73,24,"default"],[72,34,73,24],[72,35,73,25,"removeItem"],[72,45,73,35],[72,46,73,36],[72,52,73,42],[72,53,73,43],[73,8,74,6,"setToken"],[73,16,74,14],[73,17,74,15],[73,21,74,19],[73,22,74,20],[74,8,75,6,"setUser"],[74,15,75,13],[74,16,75,14],[74,20,75,18],[74,21,75,19],[75,6,76,4],[75,7,76,5],[75,8,76,6],[75,15,76,13,"error"],[75,20,76,18],[75,22,76,20],[76,8,77,6,"console"],[76,15,77,13],[76,16,77,14,"error"],[76,21,77,19],[76,22,77,20],[76,37,77,35],[76,39,77,37,"error"],[76,44,77,42],[76,45,77,43],[77,6,78,4],[78,4,79,2],[78,5,79,3],[79,4,81,2],[79,24,82,4],[79,28,82,4,"_reactJsxDevRuntime"],[79,47,82,4],[79,48,82,4,"jsxDEV"],[79,54,82,4],[79,56,82,5,"AuthContext"],[79,67,82,16],[79,68,82,17,"Provider"],[79,76,82,25],[80,6,82,26,"value"],[80,11,82,31],[80,13,82,33],[81,8,82,35,"user"],[81,12,82,39],[82,8,82,41,"token"],[82,13,82,46],[83,8,82,48,"login"],[83,13,82,53],[84,8,82,55,"logout"],[84,14,82,61],[85,8,82,63,"loading"],[86,6,82,71],[86,7,82,73],[87,6,82,73,"children"],[87,14,82,73],[87,16,83,7,"children"],[88,4,83,15],[89,6,83,15,"fileName"],[89,14,83,15],[89,16,83,15,"_jsxFileName"],[89,28,83,15],[90,6,83,15,"lineNumber"],[90,16,83,15],[91,6,83,15,"columnNumber"],[91,18,83,15],[92,4,83,15],[92,11,84,26],[92,12,84,27],[93,2,86,0],[94,2,86,1,"_s"],[94,4,86,1],[94,5,25,16,"AuthProvider"],[94,17,25,28],[95,2,25,28,"_c"],[95,4,25,28],[95,7,25,16,"AuthProvider"],[95,19,25,28],[96,2,88,7],[96,11,88,16,"useAuth"],[96,18,88,23,"useAuth"],[96,19,88,23],[96,21,88,26],[97,4,88,26,"_s2"],[97,7,88,26],[98,4,89,2],[98,10,89,8,"context"],[98,17,89,15],[98,20,89,18],[98,24,89,18,"useContext"],[98,30,89,28],[98,31,89,28,"useContext"],[98,41,89,28],[98,43,89,29,"AuthContext"],[98,54,89,40],[98,55,89,41],[99,4,90,2],[99,8,90,6,"context"],[99,15,90,13],[99,20,90,18,"undefined"],[99,29,90,27],[99,31,90,29],[100,6,91,4],[100,12,91,10],[100,16,91,14,"Error"],[100,21,91,19],[100,22,91,20],[100,67,91,65],[100,68,91,66],[101,4,92,2],[102,4,93,2],[102,11,93,9,"context"],[102,18,93,16],[103,2,94,0],[104,2,94,1,"_s2"],[104,5,94,1],[104,6,88,16,"useAuth"],[104,13,88,23],[105,2,88,23],[105,6,88,23,"_c"],[105,8,88,23],[106,2,88,23,"$RefreshReg$"],[106,14,88,23],[106,15,88,23,"_c"],[106,17,88,23],[107,0,88,23],[107,3]],"functionMap":{"names":["<global>","AuthProvider","useEffect$argument_0","loadStoredAuth","login","logout","useAuth"],"mappings":"AAA;OCwB;YCK;GDE;yBEE;GFc;gBGE;GHkB;iBIE;GJS;CDO;OME;CNM"},"hasCjsExports":false},"type":"js/module"}]}